<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>

        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="style.css">
        
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> 
    </head>

    <body>
        <!-- Navbar -->
        <div class="w3-top">
            <div class="w3-bar w3-black">
                <a class="w3-bar-item w3-button w3-padding-large w3-hide-large w3-left w3-hover-dark-gray" onclick="myFunction()">
                    <i class="fa fa-bars"></i>
                </a>
                
                <a href="index.html" class="w3-bar-item w3-button w3-padding-large w3-hide-medium w3-hide-small w3-hover-dark-grey">
                    Home
                </a>

                <a href="present.html" class="w3-bar-item w3-button w3-padding-large w3-hover-dark-grey" onclick="myFunction()">
                    TBMRI Calculator
                </a>
    
                <a href="future.html" class="w3-bar-item w3-button w3-padding-large w3-hover-dark-grey" onclick="myFunction()">
                        Monte Carlo Simulator
                    </a>

                <a href="appointment.html" class="w3-bar-item w3-button w3-padding-large w3-hide-medium w3-hide-small w3-hover-dark-grey">
                    Schedule Appointment
                </a>
            </div>
        </div>
        
        <!-- Navbar on small screens (remove the onclick attribute if you want the navbar to always show on top of the content when clicking on the links) -->
        <div id="nav" class="w3-bar-block w3-black w3-hide w3-hide-large w3-top " style="margin-top:46px">
            <a href="index.html" class="w3-bar-item w3-button w3-padding-large w3-hover-dark-grey" onclick="myFunction()">
                Home
            </a>

            <a href="present.html" class="w3-bar-item w3-button w3-padding-large w3-hover-dark-grey" onclick="myFunction()">
                TBMRI Calculator
            </a>

            <a href="future.html" class="w3-bar-item w3-button w3-padding-large w3-hover-dark-grey" onclick="myFunction()">
                    Monte Carlo Simulator
                </a>

            <a href="appointment.html" class="w3-bar-item w3-button w3-padding-large w3-hover-dark-grey" onclick="myFunction()">
                Schedule Appointment
            </a>
        </div>

        <!-- Page content -->
        <div style="max-width:100%; margin-top:80px">

            <!-- Push down content on small screens --> 
            <div class="w3-hide-large" style="margin-top:100px"></div>

            <!-- About section -->
            <div class="w3-container w3-center" style="padding-bottom: 20px;">
                    <div style="margin: auto; width: 80%;">
                        <h2 >
                            <b>Taming a Bear Market in Retirement Income Calculator</b>
                        </h2>
        
                        <div style="max-width:100%; text-align: left;">
                            <p>If you are thinking about saving for retirement, 
                                then you should know that your retirement income will change depending on the stock market. 
                                When the stock market goes down, our calculator can protect your retirement income. 
                                Our calculator will maximize your retirement income.
                                It uses the S&P 500 and other information gather to predict the future balance. 
                                The Taming a Bear Market in Retirement Income Calculator, TBMRI, is 100% stock.
                            </p>

                            <p>
                                Some questions that can be answer by using our calculator are ...
                            </p>

                            <ul>
                                
                                <li> How long will your retirement last?

                                </li>
                                <li>
                                    How much can you withdraw each year?
                                </li>
                                <li>
                                    What is your end of year balance amount?
                                </li>
                            </ul>

                            <p>
                                Answer the questions below to see an illustration of your investment. 
                                You can make a few changes and see how it impact your investment. 
                            </p>
                            <br>
                            
                        </div>
                        <img src="calculatorImage.jpg" style="width: 350px;">
                    </div>
            </div>

            <!-- IRA Retirement Income Calc section -->
            <div class="w3-container w3-center" style="max-width:100%; padding-top:20px; padding-bottom: 70px; font-size: 15px">
                <form onsubmit="return false" name="iraForm">
                    <div class="container">
                        <div class="row">
                            <div class="col-left">
                                <label>What is your retirement saving balance?</label>
                            </div>
                            <div class="col-right">
                                <input type="number" id="initialBalance" name="initialBalance" 
                                placeholder="Input Inital Amount" onchange="calcRate()" min="0" max="10000000">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-left">
                                <label>What is your retirement withdraw amount?</label>
                            </div>
                            <div class="col-right">
                                <input type="number" id="withdraw" name="withdraw" placeholder="Input Withdraw Amount" 
                                onchange="calcRate()" min="0" max="10000000">
                            </div>
                        </div>

                        <div class="row" id="withdrawRate">
                            <div class="col-left">
                                <label>Withdrawal rate will be shown here</label>
                            </div>
                            <div class="col-right">
                                <input type="text" id="rate" name="rate" 
                                placeholder="0.00 %" readonly>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-left">
                                <label>What is the inflation rate?</label>
                            </div>
                            <div class="col-right">
                                <input type="number" id="inflationPercentage" name="inflationPercentage" step="any"
                                placeholder="Input Inflation Percentage" min="0" max="100">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-left">
                                <label>What is your retirement age?</label>
                            </div>
                            <div class="col-right">
                                <input type="number" id="retireAge" name="retireAge" placeholder="Input Age" min="60" max="72">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-left">
                                <label>How many years should your savings last?</label>
                            </div>
                            <div class="col-right">
                                <input type="number" id="savingLast" name="savingLast" onchange="checkYear()"
                                placeholder="Input Range" min="1" max="50">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-left">
                                <label>What is the starting year?</label>
                            </div>
                            <div class="col-right">
                                <input type="number" id="startYear" name="startYear" placeholder="Input Starting Year"
                                onchange="checkYear()" min="1926" max="2000">
                            </div>
                        </div>

                        <div class="row" id="annualReturn">
                            <div class="col-left">
                                <label>Average annual return will be shown here</label>
                            </div>
                            <div class="col-right">
                                <input type="text" id="averageAnnualReturn" name="averageAnnualReturn" readonly
                                placeholder="0.00 %">
                            </div>
                        </div>

                        <br>

                        <div class="row">
                            <button id="check" class="w3-button w3-right w3-green w3-hover-black">Create Chart</button>
                        </div>
                      
                    </div>
                </form> 

                <br>
                <br>

                <!-- print chart form-->
                <div id="buttonContainer" style="display: none;">
                    <button onclick="document.getElementById('printerModal').style.display='block'" 
                        class="w3-button w3-green w3-hover-black">Print This Page</button>
                    <br>
                    <br>
                </div>

                <div id="printerModal" class="w3-modal">
                    <div class="w3-modal-content w3-card-4 w3-container">
                        <span onclick="document.getElementById('printerModal').style.display='none'" class="w3-button w3-display-topright">&times;</span>
                        <div id="googleForm">
                            <form name="printerForm"
                                action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSfXILXEfKJ3Gt2UerdvF465ZtPMJTiOiHeeZcnlAgL3O3Amyg/formResponse" 
                                method="post"
                                target="_blank">
                                <div class="container3">
                                    <br>
                                    <p style="text-align: left; color: red;">* required</p>
                                    <div class="row">
                                        <label for="fname">* First Name: </label>
                                        <input name="entry.1884265043" type="text" id="fname" required/>
                                        <label for="lname">* Last Name: </label>
                                        <input name="entry.1097052344" type="text" id="lname" required/>
                                        <label for="phone">* Phone Number: </label>
                                        <input name="entry.382148978" type="text" id="phone" required 
                                            pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"
                                            placeholder="Phone Number Format: xxx-xxx-xxxx"
                                            title="The format for the phone number should be xxx-xxx-xxxx"/>
                                            
                                        <label for="email">Email: </label>
                                        <input name="entry.158784994" type="email" id="email" placeholder=""/>
                                    </div>
                                    <br>
                                    <br>
                                    <div class="row">
                                        <button id="print" class="w3-button w3-right w3-green w3-hover-black" onclick="printChart()">Submit</button>
                                    </div>  
                                    <br>
                                </div>
                            </form>       
                        </div>
                    </div>
                </div>
                
                <!-- annual withdrawal chart -->
                <div style="height: 90%; width: 90%; margin: auto;">
                    <canvas id="myChart" style="height: 0px; width: 0px;" ></canvas>
                </div>

                <div class="container2" id="annualResults" style="display: none;">
                    <div class="row">
                        <label><b>The Results:</b></label>
                    </div>
                    
                    <div class="row">
                        <div class="col-left">
                            <label>The end balance for annual withdrawal:</label>
                        </div>
                        <div class="col-right">
                            <input type="number" id="eb1" name="retireAge" 
                            placeholder="The result will display after you submit your inputs." readonly>
                        </div>
                    </div>
    
                    <div class="row">
                        <div class="col-left">
                            <label>The total withdraw for annual withdrawal:</label>
                        </div>
                        <div class="col-right">
                            <input type="number" id="tw1" name="startYear" 
                            placeholder="The result will display after you submit your inputs." readonly>
                        </div>
                    </div>
                </div>

                <br>
                <br>

                <!-- modified withdrawal chart -->
                <div style="height: 90%; width: 90%; margin: auto;">
                    <canvas id="myChart2" style="height: 0px; width: 0px;"></canvas>
                </div>
            
                <div class="container2" id="optimalResults" style="display: none;">
                    <div class="row">
                        <label><b>The Results:</b></label>
                    </div>
                    
                    <div class="row">
                        <div class="col-left">
                            <label>The end balance for modiefied withdrawal:</label>
                        </div>
                        <div class="col-right">
                            <input type="number" id="eb2" name="retireAge" 
                            placeholder="The result will display after you submit your inputs." readonly>
                        </div>
                    </div>
    
                    <div class="row">
                        <div class="col-left">
                            <label>The total withdraw for modiefied withdrawal:</label>
                        </div>
                        <div class="col-right">
                            <input type="number" id="tw2" name="startYear" 
                            placeholder="The result will display after you submit your inputs." readonly>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contact section -->
            <div class="w3-container w3-black" style="padding-top: 10px; padding-bottom: 20px;">
                <div class="w3-center w3-content w3-center">
                    <ul style = "list-style-type: none;">
                        <h2 class="w3-center"><b>Contact Information</b></h2>
                        <li>
                            <span class="first-block">Phone Number: </span>
                            <span class="second-block">xxx - xx - xxxx</span>
                        </li>
    
                        <li>
                            <span class="first-block">Email: </span>
                            <span class="second-block">xxxxx @gmail.com</span>
                        </li>
                    </ul>
                </div>
            </div>

        <!-- End page content -->
        </div>

        <script src="scriptPresent.js"> </script>
    </body>
</html>